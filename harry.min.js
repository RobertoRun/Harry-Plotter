// harry plotter 0.9
// ~L~ nikomomo@gmail.com 2009-2013
// https://github.com/nikopol/Harry-Plotter
var harry=function(j){var aa="#88a4d7 #d685c9 #86d685 #ffc34f #93c2ea #f28989 #f9eb8a".split(" "),I=function(b,d,a){var c;b=b&&b.constructor==Array&&3==b.length?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3])]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:[0,0,0];"array"!=typeof d&&(d=[d,d,d]);for(c=0;3>c;++c)b[c]=Math.max(Math.min(b[c]+d[c],255),0);return void 0!=a?"rgba("+b.join(",")+","+a+")":"rgb("+b.join(",")+")"},U=function(b){var d=b.match(/\d+px/i);return d?parseInt(d,10):(d=b.match(/[0-9\.]+em/i))?Math.floor(16*parseFloat(d)):(d=b.match(/\d+pt/i))?Math.floor(1.3333*
parseInt(d,10)):10},pa=function(b){var d=Math.floor(b).toString(),a=parseInt(d.substr(0,1),10);return a*parseFloat("1E"+(d.length-1))==b?b:(a+1)*parseFloat("1E"+(d.length-1))},Z=function(b,d){if("object"==typeof d)for(var a in d)b[a]=d[a];return b},qa=function(b){b=b||window.event;if("offsetX"in b)return{x:b.offsetX,y:b.offsetY};var a=b.target;for(b={x:b.pageX,y:b.pageY};a.offsetParent;)b.x-=a.offsetLeft,b.y-=a.offsetTop,a=a.offsetParent;return b},ra=function(b){var a={};for(b=(b||"line").split(":");b.length;)a[b.pop()]=
!0;return a},ga=function(b,a){return a?Math.round(1E3*b/a)/10+"%":"0%"},sa=function(b,a,f,c,g){var e;g||(g={});c||(c=0);var ba=g,k,h="";if(a&&(h="function"==typeof a?a(f):a,f))for(k in f)h=h.replace("%"+k,f[k]);ba.lines=h.split(/\n|\\n/);g.lh=U(b.font)+c;g.h=g.lines.length*g.lh;g.w=0;for(e in g.lines)if((a=b.measureText(g.lines[e]).width+2*c)>g.w)g.w=a;return g},S;if(j.canvas)S=j.canvas.constructor==HTMLCanvasElement?j.canvas:document.getElementById(j.canvas);else a:{var O=j.container,Ga=j.width||
300,Ha=j.height||150;S=document.createElement("canvas");S.setAttribute("width",Ga+"px");S.setAttribute("height",Ha+"px");if(O){if(O="string"==typeof O?document.getElementById(O):O,!O){S=void 0;break a}}else O=document.body;O.appendChild(S)}var F=S,P=F.width,$=F.height,a=F.getContext("2d"),ha,ta=j.background,y=ra(j.mode),V=(j.mode||"line").split(":")[0],Ia=(j.fill||"s")[0].toLowerCase().replace(/[^nsvhrdl]/g,"s"),J=parseFloat(j.opacity)||1,ia=void 0==j.linewidth?1:parseInt(j.linewidth,10),Ja=j.linejoin||
"miter",ua=void 0==j.barspace?"a":parseInt(j.barspace,10),va=parseInt(j.radiuspoint,10)||0,wa=j.autoscale&&/top/i.test(j.autoscale),ja=j.autoscale&&/bot/i.test(j.autoscale),h=Z({color:"#a0a0a0",font:'normal 9px "Sans Serif"',marks:0,xwidth:0,ywidth:0,ypos:"right"},j.labels),m=!1===j.mouseover?!1:Z({radius:5,linewidth:2*ia,circle:"#888",font:'normal 10px "Sans Serif"',color:"#fff",bullet:"rgba(99,99,99,0.8)",axis:!1,text:"%v"},j.mouseover),G,q=[],W=!1,xa,ka,la,Ka=j.margins?!1:!0,v=j.margins||[0,0,
0,0],E=Z({color:"#a0a0a0",linewidth:1,x:"lr",y:[0,25,50,75,100]},j.grid),x=j.title?Z({font:'bold 12px "Sans Serif"',color:"rgba(4,4,4,0.5)",z:"top"},j.title):!1,u=!1===j.legends?!1:Z({color:"#666",font:'10px "Sans Serif"',layout:"v"},j.legends),t=[],T,B,r=0,K,L,X,w,H,C,D,Q,s,ca,z=1,Y,da=function(){var b,d,f,c;r=t.length;T=B=!1;L=K=X=0;h.xwidth=0;a.font=h.font;if(r){for(b=0;b<r;b++)d=t[b],T=!1===T?d.min:Math.min(d.min,T),B=!1===B?d.max:Math.max(d.max,B),d.maxlab&&(h.xwidth=Math.max(h.xwidth,a.measureText(d.maxlab).width));
wa&&(B=pa(B));if(y.stack){b=0;for(f=t[0].len;b<f;++b){for(d=c=0;d<r;++d)c+=t[d].val[b]||0;c>K&&(K=wa?pa(c):c)}L=ja?K-T:K}else K=B,L=ja?B-T:B;X=ja?T:0;h.ywidth=a.measureText(K||"0").width}h.fontpx=U(h.font);"auto"==h.x&&(h.x=1,h.xauto=!0);/none|false/.test(E.y)&&(E.y=[]);if(Ka)if(b=y,d=U(h.font),b.pie)d=h.x?2*d:!1===m?0:15,v=[d,d,d,d];else{f=/l/i.test(h.ypos);c=/r/i.test(h.ypos);var g=Math.floor(d/2),e=h.marks;v=b.vertical?[h.y&&f?d+4:h.x?d:0,h.y?d:1,h.y&&c?d+4:h.x?d:1,h.x?4+h.xwidth:h.y?d:0]:[h.y?
g:0,h.y&&c?4+h.ywidth:h.x?d:1,h.x?3+d+e:h.y?d:1,h.y&&f?4+h.ywidth:h.x?g:0]}w=v[3];H=v[0];C=Math.max(P-v[1]-v[3],0);D=Math.max($-v[0]-v[2],0);Q=w+C;s=H+D},ya=function(b){var a,f=b.values||b,c=b.labels||[],g,e={val:[],lab:[],len:0,sum:0,avg:0,max:0,min:0xffffffffffff,tit:b.title||"dataset#"+(t.length+1),maxlab:"",col:b.color||aa[t.length%aa.length]};for(a in f)b=parseFloat(f[a]),isNaN(b)&&(b=null),e.val.push(b),g=c[a]||a,g.length>e.maxlab.length&&(e.maxlab=g),e.lab.push(g),e.sum+=b,b>e.max&&(e.max=
b),b&&b<e.min&&(e.min=b);e.len=e.val.length;e.avg=e.len?e.sum/e.len:0;t.push(e)},za=function(b){if(b instanceof Array&&"object"==typeof b[0])for(var a=0,f=b.length;a<f;++a)ya(b[a]);else ya(b);da()},Aa=function(b){var d;switch(Ia){case "s":d=I(b,0,J);break;case "l":d=I(b,21,J);break;case "d":d=I(b,-21,J);break;case "v":d=a.createLinearGradient(0,s,0,H);d.addColorStop(0,I(b,-48,J));d.addColorStop(1,I(b,48,J));break;case "h":d=a.createLinearGradient(w,0,Q,0);d.addColorStop(0,I(b,-48,J));d.addColorStop(1,
I(b,48,J));break;case "r":d=w+C/2;var f=H+D/2;d=a.createRadialGradient(d,f,0,d,f,D/2);d.addColorStop(0,I(b,-48,J));d.addColorStop(1,I(b,48,J))}return d?a.fillStyle=d:!1},Ba=function(b){ia&&(a.lineWidth=ia,a.lineJoin=Ja,a.strokeStyle=b,a.stroke())},ma=function(b){a.closePath();Aa(b)&&a.fill();Ba(b)},M=function(b){b&&a.hasOwnProperty("shadowBlur")&&(b=b.split(/[ ,;:-]/),a.shadowOffsetX=parseInt(b[0]||1,10),a.shadowOffsetY=parseInt(b[1]||1,10),a.shadowBlur=parseInt(b[2]||1,10),a.shadowColor=b[3]||"#000")},
N=function(){a.hasOwnProperty("clearShadow")?a.clearShadow():a.hasOwnProperty("shadowBlur")&&(a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0)},Ca=function(){x&&(M(x.shadow),a.font=x.font,a.textAlign="left",a.textBaseline="top",a.fillStyle=x.color,a.fillText(x.text,void 0==x.x?v[3]+2:x.x,void 0==x.y?v[0]+2:x.y),N())},Da=function(b){var d,f=b.length,c=E.x,g=/a/i.test(c),e=/l/i.test(c),h=/r/i.test(c),k=parseInt(c,10);if(c){a.lineWidth=E.linewidth;a.strokeStyle=E.color;for(d=0;c&&d<f;++d)if(g||k&&
0==d%k||0==d&&e||d==f-1&&h)a.beginPath(),y.vertical?(a.moveTo(w,b[d]),a.lineTo(Q,b[d])):(a.moveTo(b[d],H),a.lineTo(b[d],s)),a.stroke()}},ea=function(b,d,f,c,g,e){a.save();d=Math.round(d);f=Math.round(f);if(h.x&&0==b%h.x){var ba=!0;b=t[0].lab[b]||b;var k=0;a.font=h.font;h.xauto&&e&&(k=a.measureText(b).width,ba=!("h"==e&&"center"==c&&d-k/2<ca||"v"==e&&f<ca));ba&&(M(h.shadow),a.fillStyle=h.color,a.textAlign=c,a.textBaseline=g,a.fillText(b,d,f),N(),ca="center"==c?d+k/2:f+h.fontpx)}h.marks&&(a.lineWidth=
1,a.beginPath(),a.moveTo(d,s),a.lineTo(d,s+h.marks),a.strokeStyle=h.color,a.stroke());a.restore()},Ea=function(b,d){a.save();a.font=m.font;var f,c,g=b.length,e,h=f=0,k=U(m.font),j=Math.floor(k/2),p=k+3,l,n,r=P;n=0;l=$;var q=0,A=0,w,R;m.sort&&b.sort(function(b,a){return parseFloat(a.v)-parseFloat(b.v)});for(c=0;c<g;c++)A+=b[c].v;for(c=0;c<g;c++)e=b[c],w={v:e.v,l:t[e.nds].lab[e.n],n:e.n,t:t[e.nds].tit,p:e.pct||ga(e.v,A)},e=sa(a,m.text,w,3,e),e.w&&(e.h2=Math.floor(e.h/2),e.w>h&&(h=e.w),f+=e.h,e.r++,
r>e.x-e.r&&(r=e.x-e.r),n<e.x+e.r&&(n=e.x+e.r),l>e.y&&(l=e.y),q<e.y&&(q=e.y));1<g&&(h+=6+k);if(f){m.header&&(m.header.font&&(a.font=m.header.font),R=sa(a,m.header.text,w,3),R.w>h&&(h=R.w),f+=R.h);f+=3;d?(n=r+(n-r)/2-h/2,n+h>P&&(n=P-1-h)):n+h>=P&&(n=r-h);1>n&&(n=1);n=Math.floor(n);c=n+h;e=l+f/2+f/2;e>s&&(e=s-1);e=Math.floor(e);f=e-f;a.beginPath();a.moveTo(n,e);a.lineTo(c,e);a.lineTo(c,f);a.lineTo(n,f);a.closePath();m.bullet&&(M(m.shadowbox),a.strokStyle="",a.fillStyle=m.bullet,a.fill(),N());m.border&&
(a.lineWidth=1,a.lineJoin="round",a.strokeStyle=m.border,a.stroke());a.textAlign="left";a.textBaseline="top";h=f+3;if(R){l=n+3;M(m.header.shadow);a.fillStyle=m.header.color||m.color;for(f=0;f<R.lines.length;++f,h+=R.lh)a.fillText(R.lines[f],l,h);N();a.font=m.font}for(c=0;c<g;c++){e=b[c];l=n+3;1<g&&(a.beginPath(),a.arc(l+j,h+j,j,0,2*Math.PI),a.fillStyle=t[e.nds].col,a.fill(),l+=k+3);M(m.shadow);a.fillStyle=m.color;for(f=0;f<e.lines.length;++f,h+=p)a.fillText(e.lines[f],l,h);N()}}a.restore()},na={line:function(){var b=
r,d=L?D/L:0,f,c,g,e,j,k="curve"==V,m=s+h.marks+2,p=function(b,a,c,d,e,f){for(var g,h,l,j,n,m;e<=f;)if(null===d[e])e++;else if(k){g=a[e];h=c[e];for(e++;e<=f&&null===d[e];)e++;e>f?b.lineTo(g,h):(l=(g+a[e])/2,j=(h+c[e])/2,n=(g+l)/2,m=(h+j)/2,b.quadraticCurveTo(g,h,n,m),n=(l+a[e])/2,m=(j+c[e])/2,b.quadraticCurveTo(l,j,n,m))}else b.lineTo(a[e],c[e]),e++};for(q=[];f=t[--b];)if(1<(j=f.len)){var l=[],n=[];for(c=0;c<j;++c){e=0;if(y.stack)for(g=0;g<=b;g++)e+=t[g].val[c]-X;else e=f.val[c]-X;l.push(w+Math.round(c*
(C/(j-1))));n.push(s-Math.round(d*e*z))}b+1==r&&Da(l);q.push({x:l,y:n,v:t[b].val,nds:b});c--;l.push(w+Math.round(c*(C/(j-1))));n.push(s-Math.round(d*e));for(c=0;null===f.val[c];)c++;for(g=j-1;null===f.val[g];)g--;c<=g&&Aa(f.col)&&(a.beginPath(),a.moveTo(l[c],s),a.lineTo(l[c],n[c]),p(a,l,n,f.val,c,g),a.lineTo(l[g],s),a.closePath(),a.fill());a.beginPath();a.moveTo(l[c],n[c]);p(a,l,n,f.val,c,g);Ba(f.col);if(0==b)for(c=0;c<j;++c)ea(c,l[c],m,"center","top","h");if(va){a.fillStyle=f.col;for(c=0;c<j;++c)void 0!=
f.val[c]&&(a.beginPath(),a.arc(l[c],n[c],va,0,2*Math.PI),a.closePath(),a.fill())}}},curve:function(){na.line()},chart:function(){q=[];if(r){var b,d,f=t[0].len,c="a"==ua?1<r?4:0:ua,g=y.stack,e=y.vertical,j=g?1:r,k=e?D:C,k=f&&r?(k-c*(f-1))/f/j-1:0,m,p,l,n,u;b=e?C:D;var x=s+h.marks+2;d=[];var A=g?K?b/K:0:B?b/B:0;0>k&&(k=0);p=e?H:w;m=(e?D:C)/(f||1);for(b=0;b<=f;b++)d.push(Math.round(p+b*m));Da(d);for(d=0;d<r;d++)q.push({x:[],y:[],v:[],nds:d});if(e){p=H;for(b=0;b<f;b++){ea(b,w-h.marks-2,p,"right","top",
"v");l=w;for(d=0;d<r;d++)e=t[d],n=g?l:w,l=n+Math.round(A*e.val[b]*z),m=Math.round(p),j=Math.round(p+k),null!==e.val[b]&&(a.beginPath(),a.moveTo(n,m),a.lineTo(n,j),a.lineTo(l,j),a.lineTo(l,m),ma(e.col)),q[d].x.push(l),q[d].y.push(Math.floor(p+k/2)),q[d].v.push(e.val[b]),g||(p+=k+1);p+=g?k+1+c:c}}else{l=w;for(b=0;b<f;b++){ea(b,l+(k+1)*j/2,x,"center","top","h");p=s;for(d=0;d<r;d++)e=t[d],m=g?p:s,p=m-Math.round(A*e.val[b]*z),n=Math.round(l),u=Math.round(l+k),null!==e.val[b]&&(a.beginPath(),a.moveTo(n,
m),a.lineTo(n,p),a.lineTo(u,p),a.lineTo(u,m),ma(e.col)),q[d].x.push(Math.floor(l+k/2)),q[d].y.push(p),q[d].v.push(e.val[b]),g||(l+=k+1);l+=g?k+1+c:c}}}},pie:function(){q=[];if(r){var b,d=0,f=[],c=[],g=2*Math.PI,e=[],j=[];if(1<r){var k=0;for(b=0;b<r;b++)k+=t[b].sum;if(k){b=0;for(d=r;b<r;b++)f[b]=z*t[b].sum/k*g,c[b]=t[b].col,e.push(t[b].sum),j.push(ga(t[b].sum,k))}}else if(k=t[0],k.sum){d=k.len;for(b=0;b<d;b++)f[b]=z*k.val[b]/k.sum*g,c[b]=aa[b%aa.length],e.push(k.val[b]),j.push(ga(k.val[b],k.sum))}var g=
w+Math.round(C/2),k=H+Math.round(D/2),m=Math.min(D/2,C/2)-1,p=m+h.fontpx,l,n,s=1.5*Math.PI,u,A,x,y,v=W;xa=m;ka=g;la=k;W=v;for(b=0;b<d;b++)u=s+f[b],A=(s+u)/2,q.push({a:s%(2*Math.PI),n:b}),b===v?(l=g+10*Math.cos(A),n=k+10*Math.sin(A)):(l=g,n=k),a.beginPath(),a.moveTo(l,n),a.arc(l,n,m,s,u,!1),ma(c[b]),b===v?(x=l+p/2*Math.cos(A),y=n+p/2*Math.sin(A)):ea(e[b],l+p*Math.cos(A),n+p*Math.sin(A),"center","middle"),s=u;!1!==v&&Ea([{x:x,y:y,r:0,v:e[v],pct:j[v],n:v,nds:1<r?v:0}],!0);q.sort(function(b,a){return b.a-
a.a})}}},fa={line:function(b,d){var f,c=!1,g,e,h,k=m.linewidth||1,j=[];if(q.length){g=q[0];for(f=0;f<g.x.length;++f)if(void 0!=g.v[f]&&(h=y.vertical?Math.abs(d-g.y[f]):Math.abs(b-g.x[f]),!1===c||h<e))e=h,c=f;if(!1!==c){for(f=0;f<q.length;++f)if(g=q[f],void 0!=g.v[c]){m.border2&&(a.beginPath(),a.lineWidth=k+2,a.arc(g.x[c],g.y[c],m.radius,0,2*Math.PI),0==m.linewidth?(a.fillStyle=m.border2,a.fill()):(a.strokeStyle=m.border2,a.stroke()));a.beginPath();a.lineWidth=k;a.arc(g.x[c],g.y[c],m.radius,0,2*Math.PI);
0==m.linewidth?(a.fillStyle=m.circle,a.fill()):(a.strokeStyle=m.circle,a.stroke());if(m.axis){a.lineWidth=1;if(/x/i.test(m.axis)){for(e=g.y[c]+m.radius;e<s;)a.moveTo(g.x[c],e),e+=2,e>s&&(e=s),a.lineTo(g.x[c],e),e+=2;a.stroke()}if(/y/i.test(m.axis)){for(b=g.x[c]+m.radius;b<Q;)a.moveTo(b,g.y[c]),b+=2,b>Q&&(b=Q),a.lineTo(b,g.y[c]),b+=2;a.stroke()}}j.push({x:g.x[c],y:g.y[c],r:k/2+1+m.radius,v:g.v[c],n:c,nds:g.nds})}Ea(j)}}},chart:function(b,a){fa.line(b,a)},curve:function(a,d){fa.line(a,d)},pie:function(a,
d){var f,c=0;if(Math.sqrt(Math.pow(a-ka,2)+Math.pow(d-la,2))<=xa){f=Math.PI-Math.atan2(la-d,a-ka);for(f=(f+3*Math.PI)%(2*Math.PI);c<q.length&&f>q[c].a;)c++;0>--c&&(c=q.length-1);W=q[c].n;Y(!0)}else!1!==W&&(W=!1,Y(!0))}};Y=function(b){ca=-1;a.clearRect(-1,-1,P+1,$+1);ta&&(a.fillStyle=ta,a.fillRect(-1,-1,P+1,$+1));if(!y.pie&&E.y){var d,f,c;a.lineWidth=E.linewidth;a.strokeStyle=E.color;d=0;for(f=E.y.length;d<f;++d)a.beginPath(),y.vertical?(c=w+Math.round(C*E.y[d]/100),a.moveTo(c,H),a.lineTo(c,s)):(c=
s-Math.round(D*E.y[d]/100),a.moveTo(w,c),a.lineTo(Q,c)),a.stroke()}if(r&&h.y&&!y.pie){var g,e,j=10>L?100:100>L?10:1;M(h.shadow);a.font=h.font;a.fillStyle=h.color;if(y.vertical){a.textAlign="center";d=0;for(f=h.y.length;d<f;++d)c=w+Math.round(C*h.y[d]/100),e=X+L*h.y[d]/100,e=Math.round(j*e)/j,/r/i.test(h.ypos)&&(g=s+1,a.textBaseline="top",a.fillText(e,c,g)),/l/i.test(h.ypos)&&(g=H-2,a.textBaseline="bottom",a.fillText(e,c,g))}else{a.textBaseline="middle";d=0;for(f=h.y.length;d<f;++d)g=s-Math.round(D*
h.y[d]/100),e=X+L*h.y[d]/100,e=Math.round(j*e)/j,/r/i.test(h.ypos)&&(c=Q+1,a.textAlign="left",a.fillText(e,c,g)),/l/i.test(h.ypos)&&(c=w-2,a.textAlign="right",a.fillText(e,c,g))}N()}x&&"top"==x.z?(na[V](),Ca()):(Ca(),na[V]());if(!1!==u&&1<r){a.save();a.font=u.font;var k,q,p,l;f=[];c="h"==u.layout;var n=q=0;g=U(u.font)+3;e=r;var j=g-3,B=6+j;l=c?3+g:3+g*e;p=void 0!=u.x?u.x:v[3]+2;var z=void 0!=u.y?u.y:v[0]+2+(x&&!x.x?2+U(x.font):0);for(d=0;d<e;++d)k=a.measureText(t[d].tit).width,k>q&&(q=k),f.push(k),
n+=k;k=c?(B+6)*e+n:9+j+q;a.lineWidth=1;if(q=u.background)M(u.shadowbox),a.fillStyle=q,a.fillRect(p,z,k,l),N();if(q=u.border)a.strokeStyle=q,a.strokeRect(p,z,k,l);d=0;k=z+3;for(p+=3;d<e;++d){l=t[d];M(u.shadow);a.fillStyle=l.col;a.fillRect(p,k,j,j);N();if(q=u.border2)a.strokeStyle=q,a.strokeRect(p,k,j,j);M(u.shadow);a.textAlign="left";a.textBaseline="top";a.fillStyle=u.color;a.fillText(l.tit,p+3+j,k);N();c?p+=12+j+f[d]:k+=g}a.restore()}if(!b)if(F.onmouseover=F.onmousemove=F.onmouseout=void 0,W=!1,m){ha=
a.getImageData(0,0,P,$);if(G)fa[V](G.x,G.y);F.onmouseover=function(a){G=qa(a)};F.onmousemove=function(b){G&&(y.pie||a.putImageData(ha,0,0),G=qa(b),fa[V](G.x,G.y))};F.onmouseout=function(){G=void 0;a.putImageData(ha,0,0)}}else G=void 0};a.translate(0.5,0.5);j.datas?za(j.datas):da();if(j.anim){var Fa=100/6,La=1/(j.anim*Fa),oa;oa=function(){Y();1>z&&(z+=La,1<=z&&(z=1),setTimeout(oa,Fa))};z=0;oa()}else Y();return{canvas:F,data:t,clear:function(){t=[];r=0;da();return this},load:function(a){za(a);return this},
cls:function(){return this},draw:function(a){a&&(V=(a||"line").split(":")[0],y=ra(a),da());Y();return this}}},plotter=harry;